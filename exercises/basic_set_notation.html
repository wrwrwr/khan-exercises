<!DOCTYPE html>
<html data-require="math">
<head>
        <title>Basic set notation</title>
        <script data-main="../local-only/main.js" src="../local-only/require.js"></script>
    </head>
    <body>
        <div class="exercise">
            <div class="vars">
                <var id="A">randRangeUnique(1, 15, randRange(2, 5))</var>
                <var id="B">randRangeUnique(1, 15, randRange(2, 5))</var>
                <var id="UNION">sortNumbers(_.union(A, B))</var>
                <var id="DIFFERENCE">sortNumbers(_.difference(A, B))</var>
                <var id="INTERSECTION">sortNumbers(_.intersection(A, B))</var>
            </div>

            <div class="problem">
                <p>Let <code>X</code> and <code>Y</code> be sets:</p>
                <p><code>X = \{<var>A</var>\}</code><br><code>Y = \{<var>B</var>\}</code></p>
            </div>

            <div class="solution" data-type="custom">
                <div class="instruction">
                    <span>Enter the answer as a set, with members separated by commas.</span>
                    <p><code>\{ </code><input class="text"><code> \}</code></p>
                    <label><input class="empty-set" type="checkbox">Empty set</label>
                </div>
                <div class="guess">
                    [$('#solutionarea input.text').val(),
                     $('#solutionarea input.empty-set').is(':checked')]
                </div>
                <div class="validator-function">
                    var parseInt10 = function(n) { return parseInt(n); };
                    var elements = _.map(guess[0].match(/\d+/g), parseInt10);
                    var empty = guess[1];
                    if (elements.length > 0 ^ !empty) {
                        // No elements typed and empty set not checked, or
                        // a self-contradictory answer.
                        return '';  // Unanswered.
                    };
                    if (EMPTY_SET) {
                        return empty;
                    } else {
                        return _.isEqual(sortNumbers(elements), ANSWER);
                    }
                </div>
                <div class="show-guess">
                    $('#solutionarea input.text').val(guess[0]);
                    $('#solutionarea input.empty-set').prop('checked', guess[1]);
                </div>
            </div>

            <div class="problems">
                <div id="set-union">
                    <div class="vars">
                        <var id="ANSWER">UNION</var>
                        <var id="EMPTY_SET">!ANSWER.length</var>
                    </div>
                    <p class="question">What is the set <code>X \cup Y</code>?</p>
                    <div class="hints">
                        <p>Remember that <code>\cup</code> refers to the union of sets.</p>
                        <p>The union of two sets <code>X</code> and <code>Y</code> is the collection of elements which are in <code>X</code> or in <code>Y</code> or in both <code>X</code> and <code>Y</code>.</p>
                        <p>The members of a set must be unique, and the order doesn't matter.</p>
                        <p><code>X \cup Y = \{<var>ANSWER</var>\}</code></p>
                    </div>
                </div>

                <div id="set-difference">
                    <div class="vars">
                        <var id="ANSWER">DIFFERENCE</var>
                        <var id="EMPTY_SET">!ANSWER.length</var>
                    </div>
                    <p class="question">What is the set <code>X \setminus Y</code>?</p>
                    <div class="hints">
                        <p>Remember that <code>\backslash</code> refers to the difference between sets.</p>
                        <p>The difference of two sets <code>X</code> and <code>Y</code> is the collection of elements which are in <code>X</code> but not in <code>Y</code>.</p>
                        <p>The members of a set must be unique, and the order doesn't matter.</p>
                        <p><code>X \setminus Y = \{<var>ANSWER</var>\}</code></p>
                    </div>
                </div>

                <div id="set-intersection">
                    <div class="vars">
                        <var id="ANSWER">INTERSECTION</var>
                        <var id="EMPTY_SET">!ANSWER.length</var>
                    </div>
                    <p class="question">What is the set <code>X \cap Y</code>?</p>
                    <div class="hints">
                        <p>Remember that <code>\cap</code> refers to the intersection of sets.</p>
                        <p>The intersection of two sets <code>X</code> and <code>Y</code> is the collection of elements which are in <code>X</code> and also in <code>Y</code>.</p>
                        <p>The members of a set must be unique, and the order doesn't matter.</p>
                        <p><code>X \cap Y = \{<var>ANSWER</var>\}</code>
                    </p></div>
                </div>
            </div>
        </div>
</body>
</html>
